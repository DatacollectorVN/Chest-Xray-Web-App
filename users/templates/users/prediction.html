{% extends "users/base.html" %}

{% block banner %}  
    <div style="display: inline-flex" > 
        <img src="../../../../media/iu_logo.png" alt="IU logo" width="20%" height="20%">
        <img src="../../../../media/bme_logo.jpg" alt="BME logo" width="20%" height="20%">
    </div>
{% endblock banner %}

{% block title %} Prediction Page {% endblock title%}

{% block content %}
    <div class="jumbotron">        
        <h1 class="display-4">Welcome, {{user.first_name.title|default:'Guest'}}</h1>
        <p class="lead">
            This is Prediction History Site.
        </p>
    </div>

    <hr>

    <h1> Image Prediction List</h1>
    {% if image_prediction_list %}
    <ul class="list-group"> 
        {% for image_prediction_item in image_prediction_list %}
        <div>
            <li class="list-group-item">
                {% comment %} style="display: flex; flex-direction: row; margin: 10px" {% endcomment %}
                <div style="display: flex; flex-direction: row; margin: 10px"> 
                    <div style="padding: 10px"> 
                        <img src="{{image_prediction_item.input_image.url}}" width="50" height="50" />
                        {% comment %} {{ image_prediction_item.input_image }} {% endcomment %}
                    </div>
                    <div>
                        Image url:  {{ image_prediction_item.input_image.url }}
                        <br>
                        Current status: {{ image_prediction_item.status }}
                        <br>
                        (
                            {% if image_prediction_item.status == 'Complete' %}
                            <a href="{% url 'image_prediction_update' image_prediction_item.id %}">View</a>
                            |
                            {% endif %}
                            <a href="{% url 'image_prediction_delete' image_prediction_item.id %}">Delete</a>
                        )
                    </div>
                    <div>
                        {% if image_prediction_item.status == 'Complete' %}
                            <button type="button" class="btn btn-primary btn-sm" onclick="window.location='{% url 'image_prediction_update' image_prediction_item.id %}"> View </button>
                        {% endif %}
                        <button type="button" class="btn btn-primary btn-sm" onclick="window.location='{% url 'image_prediction_delete' image_prediction_item.id %}"> Delete </button>
                    </div>
                    {% comment %} <button onclick="window.location.href='http://google.com';">Go to Google</button> {% endcomment %}
                </div>
            </li>
        </div>
        {% endfor %}
    </ul>
    {% else %}
        <p>There are no image prediction items in the library.</p>
    {% endif %}
    <p><a href="{% url 'image_prediction_create' %}"> Make a new image prediction</a></p>

{% endblock %}